<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <meta name="title" content="OWMeteo - Pogoda">
    <meta name="description" content="Pogoda na ka≈ºdƒÖ lokalizacje. Prognoza na 48 godzin i 7 dni.">
    <meta name="keywords" content="pogoda, pogoda dzisiaj, kiedy bƒôdzie padaƒá, pogoda jutro">
    <meta name="robots" content="index, follow">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="language" content="English">

    <title>Document</title>
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v2.6.1/mapbox-gl.js"></script>
    <link rel="stylesheet" href="style.css">
    <script src="render.js"></script>

</head>

<body onload="load();">
    <script>
        function dark() {
            document.documentElement.style.setProperty('--background', '#000');
            document.documentElement.style.setProperty('--now-b', '#048')
            document.documentElement.style.setProperty('--text', '#fff')
        }
        function city() {
            var city = document.getElementById('search').value
            if(city.length == 0) return
            fetch('http://api.openweathermap.org/geo/1.0/direct?q=' + city + '&limit=1&appid=911062246487cff1d7ff93826a7e4078').then(data => data.json()).then(data => {
                console.log(data)
                if(data.length == 0) return
                var call = {
                    "coords": {
                        "latitude": data[0].lat,
                        "longitude": data[0].lon
                    }
                }
                document.getElementById('city').innerHTML = city;
                pos(call)
            })
        }
        function load() {

            document.getElementById('loca').innerHTML = '<img src="loading.svg">' + 'Lokalizowanie...'
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos);
            }
            else {
                document.getElementById('city').innerText = 'Lokalizacja jest niedostƒôpna. Proszƒô wyszukaƒá miasto.'
            }
        }
        function toC(temp) {
            return Math.round((temp - 273.15)) + '¬∫';
        }
    </script>
    <div id="topcon" style="background-repeat: no-repeat; background-size: cover;">
        <input type="search" id="search" placeholder="Wyszukaj miasto, dzielnince" class="blueglass"><button
            onclick="city()">Szukaj</button>
        <h3 class="blueglass">Teraz</h3>
        <div id="row1">
            <h1 class="blueglass" id="city">Miasto</h1>
            <div class="mediumbox blueglass" id="mediumbox1"><img id="icon"
                    src="weather-icons-master\svg\wi-refresh.svg">
                <div id="temp">-</div>
                <div id="wind">
                    <div id="windspeed">-m/s</div>
                    <img id="windicon" src="weather-icons-master/svg/wi-wind-deg.svg">
                </div>
                <div id="time">--:--</div>
            </div>

        </div>
        <h3>Prognoza godzinowa</h3>
        <div id="row2"><div id="loca"></div>
        </div>
    </div>
    <div id="row3">opis</div>
    <h3>Prognoza 7 dniowa</h3>
    <div id="row4"></div>
    <h4>Radar</h4>
    <div id="row5">
        <div id="selector">
            <div id="c">‚õÖ</div>
            <div id="r">üåß</div>
            <div id="w">üí®</div>
            <div id="t">üå°</div>
            <div id="n">üå¶</div>
        </div>
        <div id="map"></div>
    </div>
    <footer>Thanks for icons from erikflowers ‚ù§</footer>
</body>

</html>